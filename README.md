# Muslim Daily Quest (Gamified Ibadah Tracker)

Aplikasi web Single Page Application (SPA) dengan gaya **Mobile RPG** (terinspirasi dari *Solo Leveling* / *Mobile Legends*) untuk memantau ibadah harian (Sholat & Tilawah) dalam kelompok mentoring.

Fitur Utama:
- **Gamifikasi**: Sistem XP, Leveling, dan Rank (Warrior s/d Mythic Glory).
- **Real-time Sync**: Menggunakan Supabase untuk menyimpan data.
- **Offline Support**: Tetap bisa absen meski internet mati (data disinkronkan saat online).
- **Role System**: Dashboard khusus untuk Mentor (Admin) dan tampilan Quest untuk Mentee.

---

## ğŸš€ Panduan Instalasi (Cara Menjalankan)

### 1. Persiapan
Pastikan komputer Anda sudah terinstall **Node.js**.

1. Download/Copy semua file project ini ke dalam satu folder.
2. Buka terminal di folder tersebut.
3. Install dependency:
   ```bash
   npm install
   ```

### 2. Setup Database (Supabase)
Aplikasi ini membutuhkan backend Supabase. Tenang, ini **Gratis**.

1. Buka [supabase.com](https://supabase.com) dan buat Project baru ("New Project").
2. Setelah jadi, masuk ke menu **SQL Editor** (icon kertas di kiri).
3. **Copy & Paste** kode SQL di bawah ini, lalu klik **RUN**:

```sql
-- 1. Buat Tabel Users (Menyimpan data player)
create table users (
  username text primary key,
  full_name text,
  password text, -- Disimpan plain text untuk demo/kemudahan reset
  role text default 'mentee', -- 'mentee' atau 'mentor'
  "group" text,
  status text default 'pending', -- 'pending', 'active', 'rejected'
  avatar_url text,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Buat Tabel Daily Logs (Menyimpan data ibadah mingguan)
create table daily_logs (
  id bigint generated by default as identity primary key,
  username text references users(username) on delete cascade,
  date_id text not null, -- format: 'week_current_day_0'
  prayers jsonb, -- data sholat: {subuh: 1, zuhur: 2...}
  tilawah int default 0,
  updated_at timestamp with time zone default timezone('utc'::text, now()),
  unique(username, date_id) -- Mencegah duplikat hari yang sama
);

-- 3. Matikan Keamanan Ketat (Row Level Security) untuk Demo
-- Agar frontend bisa langsung baca/tulis tanpa setup Auth rumit.
alter table users enable row level security;
create policy "Public Access Users" on users for all using (true) with check (true);

alter table daily_logs enable row level security;
create policy "Public Access Logs" on daily_logs for all using (true) with check (true);

-- 4. Setup Storage untuk Upload Avatar
insert into storage.buckets (id, name, public) values ('avatars', 'avatars', true);
create policy "Public Avatar Upload" on storage.objects for all using ( bucket_id = 'avatars' ) with check ( bucket_id = 'avatars' );
```

### 3. Koneksikan Aplikasi
1. Di Dashboard Supabase, masuk ke **Project Settings** (icon gerigi) > **API**.
2. Salin **Project URL** dan **anon public key**.
3. Di folder kodingan Anda, buat file bernama `.env` (atau rename `.env.example`).
4. Isi file tersebut:

```env
VITE_SUPABASE_URL=https://xxxxxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJxhBg... (key panjang Anda)
```

### 4. Jalankan Aplikasi
Kembali ke terminal, jalankan:

```bash
npm run dev
```

Buka link yang muncul (biasanya `http://localhost:5173`) di browser Anda. Gunakan mode tampilan Mobile (Inspect Element -> Mobile View) untuk pengalaman terbaik.

---

## ğŸ® Cara Bermain

### Login Admin (Mentor)
Gunakan akun default yang sudah di-hardcode untuk pertama kali:
- **Username**: `mentor_admin`
- **Password**: `istiqamah2026`

Dari sini Anda bisa melihat request user yang masuk ("Requests Tab") dan meng-approve mereka.

### Login User (Mentee)
1. Buka halaman Register.
2. Daftar akun baru.
3. Minta Admin (Mentor) untuk meng-approve akun via Dashboard Admin.
4. Login dan mulai isi checklist ibadah (Quest) harian!
